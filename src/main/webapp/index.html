  <!DOCTYPE html>
  <html> 
      <head> 
          
          <title>CA-2</title> 
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
      </head>
      <body> 
          <div id="result"></div>
          <br>
          <form>
              <button id="reload">Reload Group Members</button>
          </form> 
          <br>
          <a href="carpage.html">Link til car side </a>
          <br>
          <a href="gruppeinformation.html">Link til gruppe information </a>
          <br>
          <a href="jokespage.html">Link til jokes side </a>
          <br>
          <a href="https://github.com/Dane1998/CA-1">Link til Github Repository </a>
          
        <script>
            const baseUrl = "https://dgpcoding.com/api/groupmembers/all" 
            const resultBox = document.getElementById('result'); 
            
            const fetchAllGroupMembersAndMapThemToTable = () => {
                fetch(baseUrl).then(response => response.json()).then(data => { 
                    const trs = data.map(({studentID, name, favoriteTvshows, email}) => (
                            `<tr><td>${studentID}</td><td>${name}</td><td>${favoriteTvshows}</td><td>${email}</td></tr>`))
                            .join('');

                    resultBox.innerHTML = 
                            ` <table border= "2"> 
                              <caption>Kano Gruppen</caption>
                                  <thead> 
                                      <tr> 
                                         <td>Student-ID</td> 
                                         <td>Student Name</td> 
                                         <td>Student Show</td> 
                                         <td>Student Email</td> 
                                      </tr> 
                                  </thead> 
                                  <tbody> 
                                      ${trs} 
                                  </tbody> 
                              </table> `; 
                });
            };
            
            fetchAllGroupMembersAndMapThemToTable();
            
            document.getElementById('reload').addEventListener('click', function(event) {
                event.preventDefault();
                
                fetchAllGroupMembersAndMapThemToTable();
            });
                          
        </script>
          
             
      </body> 
  
  </html>
  