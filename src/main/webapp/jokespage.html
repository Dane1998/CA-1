<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
  
    <head>
       
        <title>Random jokes</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        
        <div id="result"></div>
        
      <script>
        const baseUrl = "https://dgpcoding.com/api/jokes/all" 
              //Finder alle brugere
              
            
                  //Der er med vilje forskel på de to tables, det er for at midlertidigt teste om den reloader det rigtige table. Ikke færdigt.
                  const resultBox = document.getElementById('result'); 
                  fetch(baseUrl).then(response => response.json()).then(data => { 
                      const trs = data.map(({id, setup, punchline}) => `<tr><td>${id}</td><td>${setup}</td><td>${punchline}</td></tr>`).join(''); 
                      resultBox.innerHTML = 
                              ` <table border= "2"> 
                                <caption>Kano Gruppen</caption>
                                    <thead> 
                                        <tr> 
                                           <td>Id</td> 
                                           <td>setup</td> 
                                           <td>punchline</td> 
                                            
                                        </tr> 
                                    </thead> 
                                    <tbody> 
                                        ${trs} 
                                    </tbody> 
                                </table> `; 
        }); 
   
          document.getElementById('find-all').addEventListener('click', function(event) {
          event.preventDefault(); 
                  const resultBox = document.getElementById('result'); 
                  fetch(baseUrl).then(response => response.json()).then(data => { 
                      const trs = data.map(({id, setup, punchline}) => `<tr><td>${id}</td><td>${setup}</td><td>${punchline}</tr>`).join(''); 
                      resultBox.innerHTML = 
                              ` <table border= "2" > 
                                <caption>Kano Gruppen</caption>
                                    <thead> 
                                        <tr> 
                                           <td>Joke id</td> 
                                           <td>setup</td> 
                                           <td>punchline</td> 
                                        </tr> 
                                    </thead> 
                                    <tbody> 
                                        ${trs} 
                                    </tbody> 
                                </table> `; 
        }); });
                          
        </script>

    </body>
</html>
