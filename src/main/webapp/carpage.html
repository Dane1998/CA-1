<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        
           <div id="result"></div>
        
        <script>
        const baseUrl = "https://dgpcoding.com/api/cars/all" 
              //Finder alle brugere
              
            
                  //Der er med vilje forskel på de to tables, det er for at midlertidigt teste om den reloader det rigtige table. Ikke færdigt.
                  const resultBox = document.getElementById('result'); 
                  fetch(baseUrl).then(response => response.json()).then(data => { 
                      const trs = data.map(({id, brand, model, owner, price, year}) => `<tr><td>${brand}</td><td>${id}</td><td>${model}</td><td>${owner}</td><td>${price}</td><td>${year}</td></tr>`).join(''); 
                      resultBox.innerHTML = 
                              ` <table border= "2"> 
                                <caption>Kano Gruppen</caption>
                                    <thead> 
                                        <tr> 
                                           <td>Id</td> 
                                           <td>Brand</td> 
                                           <td>Model</td> 
                                           <td>Owner</td> 
                                           <td>Price</td> 
                                           <td>Year</td> 
                                        </tr> 
                                    </thead> 
                                    <tbody> 
                                        ${trs} 
                                    </tbody> 
                                </table> `; 
        }); 
   
          document.getElementById('find-all').addEventListener('click', function(event) {
          event.preventDefault(); 
                  const resultBox = document.getElementById('result'); 
                  fetch(baseUrl).then(response => response.json()).then(data => { 
                      const trs = data.map(({name, phone, email}) => `<tr><td>${name}</td><td>${phone}</td><td>${email}</tr>`).join(''); 
                      resultBox.innerHTML = 
                              ` <table border= "2" > 
                                <caption>Kano Gruppen</caption>
                                    <thead> 
                                        <tr> 
                                           <td>Member Name</td> 
                                           <td>Student-ID</td> 
                                           <td>Favorite Movie</td> 
                                        </tr> 
                                    </thead> 
                                    <tbody> 
                                        ${trs} 
                                    </tbody> 
                                </table> `; 
        }); });
                          
        </script>

    </body>
</html>
